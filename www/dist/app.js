"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};angular.module("templates",[]).run(["$templateCache",function(n){n.put("athleteLogin/login.html",'<ion-view view-title="Fuel Station">\r\n    <ion-content class="padding text-center has-header" has-bouncing="false">\r\n        <div>\r\n            <h1 class="light-weight">Fuel Station</h1>\r\n            <h3 class="light-weight">\r\n                    Please enter your student ID:\r\n                </h3>\r\n            <h2 class="light-weight">{{vm.accountSvc.studentId}} &nbsp;</h2>\r\n        </div>\r\n\r\n        <div class="numpad-container">\r\n\r\n            <div class="row">\r\n                <div class="col key-padding">\r\n                    <button type="button" class="button button-stable round-ios-button" ng-click="vm.numButton(\'1\')">\r\n                        <h1>1</h1></button>\r\n                </div>\r\n                <div class="col key-padding">\r\n                    <button type="button" class="button button-stable round-ios-button" ng-click="vm.numButton(\'2\')">\r\n                        <h1>2</h1></button>\r\n                </div>\r\n                <div class="col key-padding">\r\n                    <button type="button" class="button button-stable round-ios-button" ng-click="vm.numButton(\'3\')">\r\n                        <h1>3</h1></button>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="row">\r\n                <div class="col key-padding">\r\n                    <button type="button" class="button button-stable round-ios-button" ng-click="vm.numButton(\'4\')">\r\n                        <h1>4</h1></button>\r\n                </div>\r\n                <div class="col key-padding">\r\n                    <button type="button" class="button button-stable round-ios-button" ng-click="vm.numButton(\'5\')">\r\n                        <h1>5</h1></button>\r\n                </div>\r\n                <div class="col key-padding">\r\n                    <button type="button" class="button button-stable round-ios-button" ng-click="vm.numButton(\'6\')">\r\n                        <h1>6</h1></button>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="row">\r\n                <div class="col key-padding">\r\n                    <button type="button" class="button button-stable round-ios-button" ng-click="vm.numButton(\'7\')">\r\n                        <h1>7</h1></button>\r\n                </div>\r\n                <div class="col key-padding">\r\n                    <button type="button" class="button button-stable round-ios-button" ng-click="vm.numButton(\'8\')">\r\n                        <h1>8</h1></button>\r\n                </div>\r\n                <div class="col key-padding">\r\n                    <button type="button" class="button button-stable round-ios-button" ng-click="vm.numButton(\'9\')">\r\n                        <h1>9</h1></button>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="row">\r\n                <div class="col key-padding">\r\n                    <button type="button" class="button button-stable round-ios-button" ng-click="vm.deleteButton()">\r\n                        <h1><i class="icon ion-arrow-left-b line-height-0 larger-icon"></i></h1></button>\r\n                </div>\r\n                <div class="col key-padding">\r\n                    <button type="button" class="button button-stable round-ios-button" ng-click="vm.numButton(\'0\')">\r\n                        <h1>0</h1></button>\r\n                </div>\r\n                <div class="col key-padding">\r\n                    <button type="button" class="button button-stable round-ios-button" ng-click="vm.accountSvc.clearStudentId()">\r\n                        <h1>CLR</h1></button>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </ion-content>\r\n</ion-view>\r\n'),n.put("athleteLogin/menu.html",'<header class="bar bar-header bar-positive">\n    <h1 class="title">Menu</h1>\n</header>\n<ion-content class="has-header">\n\n    <ul class="list">\n        <li>\n            <a class="item item-calm" menu-close ng-click="vm.openModal()">Manager</a>\n        </li>\n        <li>\n            <a class="item" menu-close ng-click="vm.openFSLogin()">{{vm.authSvc.isAuthenticated()?\'Logout\':\'Login\'}}</a>\n        </li>\n        <li>\n            <a class="item" menu-close ng-click="vm.authNewUser(vm.newUser)">Auth New User</a>\n        </li>\n\x3c!--\n        <li>\n            <a class="item item-calm" menu-close ng-click="vm.changePassword()">Change Pwd</a>\n        </li>\n--\x3e\n    </ul>\n</ion-content>\n'),n.put("cart/choices.html",'<ion-view view-title="Fuel Station">\r\n    <ion-side-menus>\r\n\r\n        <ion-side-menu-content>\r\n            <ion-header-bar class="bar-positive">\r\n                <button class="button button-icon ion-navicon" ng-click="vm.toggleLeft()" ng-hide="$exposeAside.active"></button>\r\n                <h1 class="title">Fuel Station Choices</h1>\r\n            </ion-header-bar>\r\n            <ion-content class="padding">\r\n\r\n                <div ng-if="!vm.accountSvc.shouldHidePre" class="category-fade">\r\n                    <h4>Pre-Workout Options:</h4>\r\n                    <hr />\r\n                    <p>\r\n                        <button class="button button-balanced" ng-repeat="c in vm.choiceSvc.pre" ng-click="vm.orderItem(c)" ng-show="c.isActive">{{c.name}}</button>\r\n                    </p>\r\n                </div>\r\n                <div ng-if="!vm.accountSvc.shouldHidePost" class="category-fade">\r\n                    <h4>Post-Workout Options:</h4>\r\n                    <hr />\r\n                    <p>\r\n                        <button class="button button-royal" ng-repeat="c in vm.choiceSvc.post" ng-click="vm.orderItem(c)" ng-show="c.isActive">{{c.name}}</button>\r\n                    </p>\r\n                </div>\r\n                <div ng-if="!vm.accountSvc.shouldHideHydration" class="category-fade">\r\n                    <h4>Hydration Options:</h4>\r\n                    <hr />\r\n                    <p>\r\n                        <button class="button button-energized" ng-repeat="c in vm.choiceSvc.hydration" ng-click="vm.orderItem(c)" ng-show="c.isActive">{{c.name}}</button>\r\n                    </p>\r\n                </div>\r\n                <div ng-if="!vm.accountSvc.shouldHideSnacks" class="category-fade">\r\n                    <h4>Snack Options:</h4>\r\n                    <hr />\r\n                    <p>\r\n                        <button class="button button-calm" ng-repeat="c in vm.choiceSvc.snacks" ng-click="vm.orderItem(c, true)" ng-show="c.isActive">\r\n                            {{c.name}}\r\n                        </button>\r\n                        <button class="button button-balanced" ng-repeat="c in vm.choiceSvc.pre" ng-if="vm.accountSvc.shouldHidePre && c.isActive" ng-click="vm.orderItem(c, true)">\r\n                            {{c.name}}\r\n                        </button>\r\n                        <button class="button button-royal" ng-repeat="c in vm.choiceSvc.post" ng-if="vm.accountSvc.shouldHidePost && c.isActive" ng-click="vm.orderItem(c, true)">\r\n                            {{c.name}}\r\n                        </button>\r\n                        <button class="button button-energized" ng-repeat="c in vm.choiceSvc.hydration" ng-if="vm.accountSvc.shouldHideHydration && c.isActive" ng-click="vm.orderItem(c, true)">\r\n                            {{c.name}}\r\n                        </button>\r\n                    </p>\r\n                </div>\r\n                <div class="category-fade" ng-if="(vm.accountSvc.shouldHideSnacks &&\r\n                     vm.accountSvc.shouldHideHydration &&\r\n                     vm.accountSvc.shouldHidePre &&\r\n                     vm.accountSvc.shouldHidePost)">\r\n\r\n                    <div class="energized-bg padding">\r\n                        <h4 class="text-white">\r\n                            You have reached your limit. To change your selection, remove items from your order list.\r\n                        </h4>\r\n                    </div>\r\n                </div>\r\n            </ion-content>\r\n        </ion-side-menu-content>\r\n\r\n        <ion-side-menu expose-aside-when="large">\r\n            <ion-header-bar class="bar-positive">\r\n                <h1 class="title">Current Order:</h1>\r\n            </ion-header-bar>\r\n\r\n            <ion-content>\r\n                <div ng-show="vm.timeRemaining < 60" class="padding text-center">\r\n                    <h4 class="text-center assertive"><strong>0:{{vm.seconds}} remaining. <br />Please make a selection.</strong></h4>\r\n                </div>\r\n                <ion-item class="bar-stable">\r\n                    <p class="text-center">\r\n                        Welcome, {{vm.accountSvc.athleteData[0].firstName}}\r\n                        <br /><br />\r\n                    </p>\r\n                    <p>\r\n                        <strong>\r\n                            Monthly snacks remaining: {{vm.accountSvc.monthSnacksRemaining}}<br />\r\n                            Snacks remaining today: {{vm.accountSvc.daySnacksRemaining}}<br />\r\n                        </strong>\r\n                    </p>\r\n                </ion-item>\r\n                <ion-item>\r\n                    <button class="button button-stable stable-border" ng-click="vm.cancel()">Cancel</button>\r\n\r\n                    <button class="button button-positive" ng-click="vm.onOrderClick()" ng-disabled="vm.orderItems.length === 0">Order</button>\r\n                </ion-item>\r\n                <ion-item class="item-button-right" ng-repeat="oi in vm.orderItems track by $index">\r\n                    {{oi.name}}\r\n                    <a class="button button-icon icon ion-close-circled assertive" ng-click="vm.removeItem($index)"></a>\r\n                </ion-item>\r\n\r\n            </ion-content>\r\n        </ion-side-menu>\r\n\r\n    </ion-side-menus>\r\n</ion-view>\r\n'),n.put("fsLogin/fs-login.modal.html",'<ion-modal-view>\n    <ion-header-bar class="bar-positive">\n        <h1 class="title">FS Login</h1>\n    </ion-header-bar>\n    <ion-content class="has-header">\n        <form name="vm.loginForm" autocomplete="off" ng-submit="vm.onSubmitFS()" novalidate>\n            <div class="list">\n\n\t\t\t\t<label class="item item-input">\n\t\t\t\t  <span class="input-label">Username</span>\n\t\t\t\t  <input type="text" ng-model="vm.loginData.username">\n\t\t\t\t</label>\n\t\t\t\t<label class="item item-input">\n\t\t\t\t  <span class="input-label">Password</span>\n\t\t\t\t  <input type="password" ng-model="vm.loginData.password">\n\t\t\t\t</label>\n\n                <div class="padding">\n                    <button ng-click="vm.closeFSModal()" class="button button-stable" type="button">Cancel</button>\n                    <button class="button button-positive" type="submit">Submit</button>\n                </div>\n\n\n            </div>\n        </form>\n    </ion-content>\n</ion-modal-view>'),n.put("manager/manager-login.html",'<ion-modal-view>\n    <ion-header-bar class="bar-positive">\n        <h1 class="title">Manager Login</h1>\n    </ion-header-bar>\n    <ion-content class="has-header">\n        <form name="vm.passwordForm" autocomplete="off" ng-submit="vm.onSubmitPassword()" novalidate>\n            <div class="list">\n\n                <label for="password" class="item item-input">\n                    <span class="input-label">\n                        Password\n                    </span>\n                    <input ng-model="vm.password.value" name="password"\n                           type="password" />\n                </label>\n\n                <div class="padding">\n                    <button ng-click="vm.closeModal()" class="button button-stable" type="button">Cancel</button>\n                    <button class="button button-positive" type="submit">Submit</button>\n                </div>\n\n\n            </div>\n        </form>\n    </ion-content>\n</ion-modal-view>'),n.put("manager/menu.html",'<header class="bar bar-header bar-positive">\n    <h1 class="title">Menu</h1>\n</header>\n<ion-content class="has-header">\n\n    <ul class="list">\n        <li class="item item-divider">\n            Today\'s Orders\n        </li>\n        <li>\n            <a class="item" menu-close href="#/tab/orderList">Open Order List</a>\n        </li>\n        <li>\n            <a class="item" menu-close href="#/tab/archiveList">Archived Orders List</a>\n        </li>\n        <li class="item item-divider">\n            FuelStation Config\n        </li>\n        <li>\n            <a class="item" menu-close nav-clear href="#/tab/snackLimits">Snack Limits</a>\n        </li>\n        <li>\n            <a class="item" menu-close href="#/tab/updateChoices">FuelStation Choices</a>\n        </li>\n        <li class="item item-divider">\n            Reporting\n        </li>\n        <li>\n            <a class="item" menu-close href="#/tab/dailyReport">Today\'s Checkout Report</a>\n        </li>\n        <li>\n            <a class="item" menu-close href="#/tab/monthlyCounts">Monthly Counts Report</a>\n        </li>\n        <li>\n            <a class="item" menu-close href="#/tab/errorReport">Error Report</a>\n        </li>\n        <li>\n            <a class="item item-balanced" menu-close href="#/tab/studentID">Return to Athlete Checkout</a>\n        </li>\n        <li>\n            <span class="item item-divider item-stable" style="font-style: italic">v 0.0.5</span>\n        </li>\n    </ul>\n</ion-content>\n'),n.put("manager/archiveList/archiveList.html",'<ion-view view-title="Today\'s Archive">\n    <ion-nav-buttons side="right">\n        <button class="button button-large ng-click-active ion-refresh" ng-click="vm.init()"> Refresh\n        </button>\n    </ion-nav-buttons>\n    <ion-content>\n        <div class="container">\n            <ul class="list m-b-0">\n                <li class="item item-icon-right">\n                    <i ng-if="vm.name.value" ng-click="vm.clearFilter()" class="icon ion-close-circled assertive"></i>\n                    <input type="text" ng-model="vm.name.value" placeholder="Filter by name" class="col">\n                </li>\n            </ul>\n            <div class="row  unlimited-items">\n                <div class="col-33 animate-leave" ng-repeat="checkout in vm.todaysCheckouts  | filter: vm.nameFilter track by $index">\n                    <div class="list card card-checkout">\n                        <div class="item item-card-divider item-button-right positive-bg text-white">\n                            <button class="button button-clear" ng-click="vm.setUnarchive(checkout, $index)"><i class="icon ion-reply light"></i></button>\n                            <strong>{{checkout.Athlete.firstName + \' \' + checkout.Athlete.lastName}}</strong>\n                            <br>\n                            <small>{{checkout.createDate | date: \'shortTime\'}}</small>\n                        </div>\n                        <div class="card-order-body" ng-click="editCheckout(checkout)">\n                            <ion-scroll>\n                                <ion-list>\n                                    <ion-item class="padding" ng-repeat="choice in checkout.CheckoutChoices">\n                                        {{choice.Choice.name}}\n                                    </ion-item>\n                                    <ion-item></ion-item>\n                                </ion-list>\n                            </ion-scroll>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </ion-content>\n</ion-view>\n'),n.put("manager/errorReport/errors.html",'<ion-view view-title="Errors">\n    <ion-nav-buttons side="right">\n        <button class="button button-large ng-click-active ion-refresh" ng-click="vm.refresh()"> Refresh\n        </button>\n    </ion-nav-buttons>\n    <ion-content class="has-header">\n        <button class="button button-assertive" ng-click="vm.deleteLog()">Delete Log</button>\n        <div class="container padding">\n            \x3c!--<div class="row stable-bg">\n                <div class="col-10"><strong>Date</strong></div>\n                <div class="col-20"><strong>Cause</strong></div>\n                <div class="col-33"><strong>Stack</strong></div>\n                <div class="col-33"><strong>Other</strong></div>\n            </div>\n\n            <div class="row m-t-20 m-b-10" ng-repeat="error in vm.errors" style="border-bottom: 1px #ccc solid">\n                <div class="col-10" ng-bind="vm.parseDate(error.date)"></div>\n                <div class="col-20">{{error.cause}}</div>\n                <div class="col-33">{{error.stack}}</div>\n                <div class="col-33">{{error.other}}</div>\n            </div>--\x3e\n\n            <div class="row padding" ng-class="{\'stable-bg\': $index % 2 === 1}" ng-repeat="error in vm.errors">\n                <div class="col">\n                    <strong><p ng-bind="vm.parseDate(error.date)"></p></strong>\n                    <p><strong>Cause:</strong> {{error.cause}}</p>\n                    <p><strong>Stack:</strong> {{error.stack}}</p>\n                    <p><strong>Other:</strong> {{error.other}}</p>\n                    \n                </div>\n            </div>\n\n        </div>\n    </ion-content>\n</ion-view>\n'),n.put("manager/orderList/editOrderModal.html",'<ion-modal-view class="large-modal" ng-controller="EditOrderCtrl as vm">\n    <ion-side-menus>\n\n        <ion-side-menu-content class="width-70">\n            <ion-header-bar class="bar-positive">\n                <button class="button button-icon ion-navicon" ng-click="vm.toggleLeft()" ng-hide="$exposeAside.active"></button>\n                <h1 class="title">Fuel Station Choices</h1>\n            </ion-header-bar>\n            <ion-content class="padding">\n                {{categories}}\n                <div ng-if="!vm.accountSvc.shouldHidePre" class="category-fade">\n                    <h4>Pre-Workout Options:</h4><hr />\n                    <p>\n                        <button class="button button-balanced" ng-repeat="c in vm.choiceSvc.pre" ng-click="vm.orderItem(c)" ng-show="c.isActive">{{c.name}}</button>\n                    </p>\n                </div>\n                <div ng-if="!vm.accountSvc.shouldHidePost" class="category-fade">\n                    <h4>Post-Workout Options:</h4><hr />\n                    <p>\n                        <button class="button button-royal" ng-repeat="c in vm.choiceSvc.post" ng-click="vm.orderItem(c)" ng-show="c.isActive">{{c.name}}</button>\n                    </p>\n                </div>\n                <div ng-if="!vm.accountSvc.shouldHideHydration" class="category-fade">\n                    <h4>Hydration Options:</h4><hr />\n                    <p>\n                        <button class="button button-energized" ng-repeat="c in vm.choiceSvc.hydration" ng-click="vm.orderItem(c)" ng-show="c.isActive">{{c.name}}</button>\n                    </p>\n                </div>\n                <div ng-if="!vm.accountSvc.shouldHideSnacks" class="category-fade">\n                    <h4>Snack Options:</h4><hr />\n                    <p>\n                        <button class="button button-calm" ng-repeat="c in vm.choiceSvc.snacks" ng-click="vm.orderItem(c, true)" ng-show="c.isActive">\n                            {{c.name}}\n                        </button>\n                        <button class="button button-balanced" ng-repeat="c in vm.choiceSvc.pre" ng-if="vm.accountSvc.shouldHidePre && c.isActive" ng-click="vm.orderItem(c, true)">\n                            {{c.name}}\n                        </button>\n                        <button class="button button-royal" ng-repeat="c in vm.choiceSvc.post" ng-if="vm.accountSvc.shouldHidePost && c.isActive" ng-click="vm.orderItem(c, true)">\n                            {{c.name}}\n                        </button>\n                        <button class="button button-energized" ng-repeat="c in vm.choiceSvc.hydration" ng-if="vm.accountSvc.shouldHideHydration && c.isActive" ng-click="vm.orderItem(c, true)">\n                            {{c.name}}\n                        </button>\n                    </p>\n                </div>\n                <div class="category-fade"\n                     ng-if="(vm.accountSvc.shouldHideSnacks &&\n                     vm.accountSvc.shouldHideHydration &&\n                     vm.accountSvc.shouldHidePre &&\n                     vm.accountSvc.shouldHidePost)">\n\n                    <div class="energized-bg padding">\n                        <h4 class="text-white">\n                            You have reached your limit. To change your selection, remove items from your order list.\n                        </h4>\n                    </div>\n                </div>\n            </ion-content>\n        </ion-side-menu-content>\n\n        <ion-side-menu expose-aside-when="large">\n            <ion-header-bar class="bar-positive">\n                <h1 class="title">Current Order:</h1>\n            </ion-header-bar>\n\n            <ion-content>\n                <ion-item class="bar-stable">\n                    <p class="text-center">\n                        Order for {{vm.accountSvc.athleteData[0].firstname}}<br />\n                    </p>\n                    <p>\n                        <strong>\n                            Monthly snacks remaining: {{vm.accountSvc.monthSnacksRemaining}}<br />\n                            Snacks remaining today: {{vm.accountSvc.daySnacksRemaining}}<br />\n                        </strong>\n                    </p>\n                </ion-item>\n                <ion-item>\n                    <button class="button button-stable stable-border" ng-click="vm.closeModal()">Cancel</button>\n\n                    <button class="button button-positive" ng-click="vm.onOrderClick()" ng-disabled="vm.orderSvc.orderItems.length === 0">Update</button>\n                </ion-item>\n                <ion-item class="item-button-right" ng-repeat="oi in vm.orderSvc.orderItems track by $index">\n                    {{oi.name}}<a class="button button-icon icon ion-close-circled assertive" ng-click="vm.removeItem($index)"></a>\n                </ion-item>\n\n            </ion-content>\n        </ion-side-menu>\n\n    </ion-side-menus>\n    \n</ion-modal-view>\n'),n.put("manager/orderList/orderList.html",'<ion-view view-title="Today\'s Orders">\n    <ion-nav-buttons side="right">\n        <button class="button button-large ng-click-active ion-refresh" ng-click="vm.init()"> Refresh\n        </button>\n    </ion-nav-buttons>\n    <ion-content class="has-header">\n        <div class="container">\n            <ul class="list m-b-0">\n                <li class="item item-icon-right">\n                    <i ng-if="vm.name.value" ng-click="vm.clearFilter()" class="icon ion-close-circled assertive"></i>\n                    <input type="text" ng-model="vm.name.value" placeholder="Filter by name" class="col">\n                </li>\n            </ul>\n            <div class="row unlimited-items">\n                \n                <div class="col-33 animate-leave" ng-repeat="checkout in vm.todaysCheckouts | filter: vm.nameFilter track by $index">\n                    <div class="list card card-checkout">\n                        <div class="item item-card-divider positive-bg text-white p-r-120 p-l-50">\n                            <button class="button button-clear first-left-btn" ng-click="vm.setArchive(checkout, $index)"><i class="icon ion-checkmark-circled light"></i></button>\n                            <button class="button button-clear second-right-btn" ng-click="vm.openModal(checkout)"><i class="icon ion-edit light"></i></button>\n                            <button class="button button-clear first-right-btn" ng-click="vm.deleteCheckout(checkout)"><i class="icon ion-close-circled light"></i></button>\n                            <strong>{{checkout.Athlete.lastName + \', \' + checkout.Athlete.firstName}}</strong>\n                            <br>\n                            <small>{{checkout.CreateDate | date: \'shortTime\'}}</small>\n                            \x3c!-- <small>{{vm.parseRelativeTime(checkout.createDate)}}</small>--\x3e\n                        </div>\n                        <div class="card-order-body">\n                            <ion-scroll>\n                                <ion-list>\n                                    <ion-item class="padding" ng-repeat="choice in checkout.CheckoutChoices">\n                                        {{choice.Choice.name}}\n                                    </ion-item>\n                                    <ion-item></ion-item>\n                                </ion-list>\n                            </ion-scroll>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </ion-content>\n</ion-view>\n'),n.put("manager/snackChoices/choiceModal.html",'<ion-modal-view>\n    <ion-header-bar class="bar-positive">\n        <h1 class="title">Add/Update Choice</h1>\n    </ion-header-bar>\n    <ion-content class="has-header">\n        <div class="padding energized-bg" ng-if="vm.formInvalid">\n            Please fill out all fields before saving.\n        </div>\n        <form name="vm.newChoiceForm" novalidate>\n            <div class="list">\n\n                <label for="name" class="item item-input">\n                    <span class="input-label">\n                                Name\n                            </span>\n                    <input type="text" name="name" ng-model="vm.selectedSnack.name" required/>\n                </label>\n\n                <label for="type" class="item item-input item-select">\n                    <span class="input-label">\n                                Type\n                            </span>\n                    <select name="type" ng-model="vm.selectedSnack.type" ng-options="type.value as type.label for type in vm.typeOptions" required>\n\n                    </select>\n                </label>\n                <label for="type" class="item item-input item-select">\n                    <span class="input-label">\n                                Available\n                            </span>\n                    <select name="type" ng-model="vm.selectedSnack.isActive" ng-options="type.value as type.label for type in vm.activeOptions" required>\n                    </select>\n                </label>\n                <div class="padding">\n                    <button ng-click="vm.closeModal()" class="button button-stable">Cancel</button>\n                    <button ng-click="vm.saveChoice()" class="button button-balanced">Save</button>\n                </div>\n\n\n            </div>\n        </form>\n    </ion-content>\n</ion-modal-view>\n'),n.put("manager/snackChoices/updateChoices.html",'<ion-view view-title="FuelStation Choices">\r\n    <div class="bar bar-subheader bar-stable text-center vcenter">\r\n        <button class="button button-icon icon ion-ios-plus force-balanced align-left" ng-click="vm.openModal()"></button>\r\n        <div class="title">\r\n            Sort by: <span ng-class="{bold: vm.predicate === \'name\'}" ng-click="vm.predicate = \'name\'">Name</span> | <span ng-class="{bold: vm.predicate === \'type\'}" ng-click="vm.predicate = \'type\'">Type</span>\r\n        </div>\r\n    </div>\r\n    <ion-content class="has-subheader">\r\n\r\n        <ion-list show-delete="vm.data.showDelete" can-swipe="true">\r\n            <ion-item ng-repeat="choice in vm.allChoices | orderBy:vm.predicate">\r\n                {{choice.name}} <span ng-show="!choice.isActive" class="text-gray"> &ndash; <em><i class="icon ion-close-circled"></i> Not Available</em></span>\r\n                <span class="align-right">{{vm.getType(choice.type)}}</span>\r\n                <ion-option-button class="button-energized"\r\n                                   ng-click="vm.editChoice(choice)">\r\n                    Edit\r\n                </ion-option-button>\r\n                <ion-option-button class="button-assertive"\r\n                                   ng-click="vm.deleteChoice(choice)">\r\n                    Delete\r\n                </ion-option-button>\r\n            </ion-item>\r\n        </ion-list>\r\n\r\n\r\n    </ion-content>\r\n</ion-view>\r\n'),n.put("manager/reports/monthlyCounts.html",'<ion-view view-title="Monthly Counts">\n\n    <ion-content class="has-header">\n        <div class="container padding">\n            <div class="list">\n                <div class="row">\n                    <div class="col-25">\n                        <label class="item item-input item-select">\n                            <div class="input-label">\n                                Month\n                            </div>\n                            <select ng-model="vm.dateSelection.month" ng-init="vm.dateSelection.month = vm.currentMonth" \n                                    ng-options="num as month for (month, num) in vm.months"></select>\n                        </label>\n\n                    </div>\n                    <div class="col-25">\n                        <label class="item item-input item-select">\n                            <div class="input-label">\n                                Year\n                            </div>\n                            <select ng-model="vm.dateSelection.year" ng-init="vm.dateSelection.year = vm.currentYear" \n                                    ng-options="y for y in vm.years() track by y"></select>\n                        </label>\n                    </div>\n\n                    <div class="col-10 text-center">\n                        <button type="button" class="button button-positive" ng-click="vm.getMonthCounts()" style="min-height: 35px; line-height: 20px;">Go</button>\n\n                    </div>\n\n                    <div class="col-20">\n                        <button type="button" class="button button-balanced" ng-click="vm.download()" style="min-height: 35px; line-height: 20px;" ng-disabled="vm.counts.length === 0">Download CSV</button>\n                    </div>\n                </div>\n\n\n\n            </div>\n            <div ng-if="vm.counts.length > 0" class="category-fade">\n                <div class="row stable-bg m-b-10">\n                    <div class="col-25"><strong>Choice</strong></div>\n                    <div class="col-20"><strong>Count</strong></div>\n                </div>\n\n                <div class="row m-b-10" ng-repeat="item in vm.counts">\n                    <div class="col-25">{{item.choice}}</div>\n                    <div class="col-20">{{item.count}}</div>\n                </div>\n            </div>\n            <div ng-if="vm.counts.length === 0" class="padding">\n                <h4 ng-show="vm.noRecords">There are no records for the selected time period.</h4>\n                <h4>Please select a month and year, then press Go.</h4>\n            </div>\n        </div>\n        \n        \n    </ion-content>\n</ion-view>\n'),
n.put("manager/reports/todaysCheckouts.html",'<ion-view view-title="Today\'s Checkout Report">\n    <ion-nav-buttons side="right">\n        <button class="button button-large ng-click-active ion-refresh" ng-click="vm.refresh()"> Refresh\n        </button>\n    </ion-nav-buttons>\n    <ion-content class="has-header">\n        <div class="container padding">\n            <button type="button" class="button button-balanced" ng-click="vm.download()" style="min-height: 35px; line-height: 20px;">Download CSV</button>\n            <div class="row stable-bg m-t-10">\n                <div class="col"><strong>First Name</strong></div>\n                <div class="col"><strong>Last Name</strong></div>\n                <div class="col"><strong>Choice</strong></div>\n                <div class="col"><strong>Time Order Created</strong></div>\n                <div class="col"><strong>Time Order Archived</strong></div>\n            </div>\n\n            <div class="row" ng-repeat="checkout in vm.checkouts">\n                <div class="col">{{checkout.firstname}}</div>\n                <div class="col">{{checkout.lastname}}</div>\n                <div class="col">{{checkout.choiceName}}</div>\n                <div class="col">{{checkout.createDate | date: \'shortTime\'}}</div>\n                <div class="col">{{checkout.archiveDate | date: \'shortTime\'}}</div>\n            </div>\n\n        </div>\n    </ion-content>\n</ion-view>\n'),n.put("manager/snackLimits/snackLimits.html",'<ion-view view-title="Snack Limits">\r\n    <ion-content class="">\r\n\r\n        <div class="two-columns padding">\r\n            <form name="vm.limitForm{{$index}}" ng-submit="vm.onSubmitSnackLimits(sport)" ng-repeat="sport in vm.sportsLimits" class="m-b-10">\r\n                <div class="list">\r\n\r\n                    <div>\r\n\r\n                        <label class="item item-input item-stacked-label">\r\n                            <span class="input-label bold">{{sport.sport.sportDescription}}</span>\r\n                        </label>\r\n\r\n                        <label class="item item-input item-stacked-label energized-bg" ng-show="!vm.limitForm{{$index}}.$valid">\r\n                            Please enter a whole number greater than 0.\r\n                        </label>\r\n\r\n                        <label for="daySnackLimit" class="item item-input">\r\n                            <span class="input-label">\r\n                                Daily Snack Limit\r\n                            </span>\r\n                            <input ng-model="sport.daySnackLimit" name="daySnackLimit"\r\n                                   type="number" min="1" inputmode="tel" pattern="[0-9]*" required />\r\n                        </label>\r\n\r\n                        <label for="monthSnackLimit" class="item item-input">\r\n                            <span class="input-label">\r\n                                Monthly Snack Limit\r\n                            </span>\r\n                            <input ng-model="sport.monthSnackLimit" name="monthSnackLimit"\r\n                                   type="number" min="1" inputmode="tel" pattern="[0-9]*" required />\r\n                        </label>\r\n\r\n                        <span class="item item-input item-stacked-label">\r\n                            <button type="submit" class="button button-balanced unset-position"\r\n                                    style="position:unset; float: right; margin-right: 10px !important" ng-disabled="!vm.limitForm{{$index}}.$valid">Save</button>\r\n                        </span>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n            </form>\r\n        </div>\r\n\r\n    </ion-content>\r\n</ion-view>\r\n'),n.put("templates/app.html",'<ion-side-menus>\n\n    <ion-side-menu-content>\n        <ion-nav-bar class="bar-positive">\n            <ion-nav-buttons side="left">\n                <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>\n            </ion-nav-buttons>\n        </ion-nav-bar>\n\n        <ion-nav-view name="appContent" animation="slide-left-right"></ion-nav-view>\n\n    </ion-side-menu-content>\n\n    <ion-side-menu side="left">\n\n        <ion-nav-view name="sideMenu"></ion-nav-view>\n\n    </ion-side-menu>\n\n</ion-side-menus>\n')}]),angular.module("app",["ionic","googlechart","app.core","app.archiveListCtrl","app.editOrderCtrl","app.errors","app.managerCtrl","app.loginMenuCtrl","app.monthlyCounts","app.orderListCtrl","app.snackChoicesCtrl","app.snackLimitCtrl","app.studentChoices","app.studentLogin","app.todaysCheckouts","blocks.exception","blocks.errorlog","templates","ionic.utils"]).run(["$ionicPlatform",function(n){n.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","$httpProvider",function(n,t,e,o){e.views.maxCache(0),n.state("tab",{url:"/tab",templateUrl:"templates/app.html",abstract:!0,controller:"ManagerCtrl as vm"}).state("tab.studentID",{url:"/studentID",views:{appContent:{templateUrl:"athleteLogin/login.html",controller:"StudentLoginCtrl as vm"},sideMenu:{templateUrl:"athleteLogin/menu.html",controller:"LoginMenuCtrl as vm"}}}).state("tab.updateChoices",{url:"/updateChoices",views:{appContent:{templateUrl:"manager/snackChoices/updateChoices.html",controller:"SnackChoicesCtrl as vm"},sideMenu:{templateUrl:"manager/menu.html"}}}).state("tab.snackLimits",{url:"/snackLimits",views:{appContent:{templateUrl:"manager/snackLimits/snackLimits.html",controller:"SnackLimitCtrl as vm"},sideMenu:{templateUrl:"manager/menu.html"}}}).state("tab.orderList",{cache:!1,url:"/orderList",views:{appContent:{templateUrl:"manager/orderList/orderList.html",controller:"OrderListCtrl as vm"},sideMenu:{templateUrl:"manager/menu.html"}}}).state("tab.archiveList",{cache:!1,url:"/archiveList",views:{appContent:{templateUrl:"manager/archiveList/archiveList.html",controller:"ArchiveListCtrl as vm"},sideMenu:{templateUrl:"manager/menu.html"}}}).state("tab.dailyReport",{cache:!1,url:"/dailyReport",views:{appContent:{templateUrl:"manager/reports/todaysCheckouts.html",controller:"TodaysCheckoutsCtrl as vm"},sideMenu:{templateUrl:"manager/menu.html"}}}).state("tab.monthlyCounts",{url:"/monthlyCounts",views:{appContent:{templateUrl:"manager/reports/monthlyCounts.html",controller:"MonthlyCountsCtrl as vm"},sideMenu:{templateUrl:"manager/menu.html"}}}).state("tab.errorReport",{url:"/errorReport",views:{appContent:{templateUrl:"manager/errorReport/errors.html",controller:"ErrorsCtrl as vm"},sideMenu:{templateUrl:"manager/menu.html"}}}).state("cart",{url:"/cart",templateUrl:"cart/choices.html",controller:"StudentChoicesCtrl as vm"}),t.otherwise("/tab/studentID")}]),function(){var n=angular.module("app");n.factory("authInterceptor",["AuthSvc",function(n){return{request:function(t){return n.getToken().then(function(e){return t.headers.Authorization=n.token,t})}}}]),n.config(["$httpProvider",function(n){n.interceptors.push("authInterceptor")}])}(),function(){function n(n){n.decorator("$exceptionHandler",t)}function t(n,t,e){return function(t,o){n(t,o);var i={exception:t,cause:o};e.log(i),console.error(t.msg||t.message,i)}}angular.module("blocks.exception",[]).config(n),n.$inject=["$provide"],t.$inject=["$delegate","$localstorage","ErrorLogSvc"]}(),function(){angular.module("ionic.utils",[]).factory("$localstorage",["$window",function(n){return{set:function(t,e){n.localStorage[t]=e},get:function(t,e){return n.localStorage[t]||e},setObject:function(t,e){n.localStorage[t]=JSON.stringify(e)},getObject:function(t){return JSON.parse(n.localStorage[t]||"{}")}}}])}(),function(){angular.module("blocks.errorlog",[]).service("ErrorLogSvc",["$localstorage",function(n){function t(){var t={data:[]};n.setObject("fsErrors",t)}function e(t){var e={data:[]},o={date:Date(),cause:t.cause||t.exception.cause,stack:t.exception.stack||new Error,other:t.exception},i=n.getObject("fsErrors")||{data:[]};i.data&&i.data.length>0?(i.data.unshift(o),e.data=i.data):e.data=[o],n.setObject("fsErrors",e)}return{clear:t,log:e}}])}(),function(){angular.module("app.studentChoices",[]).controller("StudentChoicesCtrl",["ChoiceSvc","AccountSvc","OrderSvc","$state","CheckoutSvc","$ionicSideMenuDelegate","$ionicPopup","IonicAlertSvc","$interval","$scope",function(n,t,e,o,i,r,a,c,s,l){function u(){var n={template:"Are you sure you want to cancel this order?"},t=function(){o.go("tab.studentID",null,{reload:!0})};c.confirm(n,t)}function d(){if(v(),!t.athleteData||!t.athleteData[0]){var n={};n.title="Athlete data error.",n.AcctSvc_athleteData=t.athleteData,n.OrderItems=e.orderItems,c.alert(n)}if(e.orderItems.length>=1)try{i.processCheckout(e.orderItems,t.athleteData[0].AthleteID)}catch(n){c.alert(n)}}function m(n,o){v();var i=_.clone(n);o&&(t.monthSnacksRemaining--,t.daySnacksRemaining--,i.isSnack=!0),e.addItem(i),t.updateHiddenCategories(e.orderItems)}function h(n){v(),e.orderItems[n].isSnack&&(t.monthSnacksRemaining<t.monthSnacksLimit&&t.monthSnacksRemaining++,t.daySnacksRemaining<t.daySnacksLimit&&t.daySnacksRemaining++),e.removeItem(n),t.updateHiddenCategories(e.orderItems)}function v(){b.timeRemaining=120}function g(){r.toggleLeft()}var p,b=this;b.accountSvc=t,b.choiceSvc=n,b.orderItems=e.orderItems,b.timeRemaining=120,b.cancel=u,b.onOrderClick=d,b.orderItem=m,b.removeItem=h,b.toggleLeft=g,function(){p=s(function(){if(b.timeRemaining--,b.seconds=b.timeRemaining<10?"0"+b.timeRemaining:b.timeRemaining,0===b.timeRemaining){s.cancel(p);var n={};n.title="You have been logged out due to inactivity.",n.shouldClearID=!0,n.redirect="tab.studentID",c.alert(n)}},1e3)}(),l.$on("$destroy",function(){s.cancel(p)})}])}(),function(){angular.module("app.studentLogin",[]).controller("StudentLoginCtrl",["AccountSvc","OrderSvc","AthleteSvc","IonicAlertSvc","CheckoutSvc","ChoiceSvc","$state","LoadingSpinner","$ionicModal","$scope","$timeout","$localstorage",function(n,t,e,o,i,r,a,c,s,l,u,d){function m(){n.studentId=n.studentId.slice(0,n.studentId.length-1)}function h(t){console.log("yo! a number was pressed..."),n.studentId.length<9&&(n.studentId=n.studentId+t,v())}function v(){9===n.studentId.length&&(c.show(),g())}function g(){e.getAthlete(n.studentId).then(n.saveAthleteData).then(n.getSnackLimits).then(b).then(n.initializeHiddenCategories).then(p).then(f).catch(o.error)}function p(n){n&&r.getAllChoices().then(r.initializeChoiceCategories).catch(o.error)}function b(n){return i.getCheckoutHistory(n).then(function(n){return n},o.error)}function f(){c.hide(),a.go("cart",null,{reload:!0})}var k=this;k.accountSvc=n,k.password={},k.deleteButton=m,k.numButton=h,function(){n.clear(),t.clear(),d.getObject("fsErrors")}()}])}(),function(){angular.module("app.loginMenuCtrl",[]).controller("LoginMenuCtrl",["IonicAlertSvc","$state","LoadingSpinner","$scope","$timeout","$ionicModal","AuthSvc",function(n,t,e,o,i,r,a){function c(){alert("testing new js")}function s(){o.modal.hide()}function l(){o.fsModal.hide()}function u(){var e={title:"The password you entered was not correct. Please try again.",stack:(new Error).stack,cause:"Wrong manager login password"};"fu3lst4tion!"===v.password.value?t.go("tab.orderList",null,{reload:!0}):n.error(e)}function d(){(new Error).stack;a.login(v.loginData).then(function(n){console.info("idToken",n),t.go("tab.orderList",null,{reload:!0})}).catch(function(t){n.error(t)})}function m(){o.modal.show()}function h(){a.isAuthenticated()?a.logout():o.fsModal.show()}var v=this;v.password={value:"fu3lst4tion!"},v.loginData={username:"fsdemo-manager",password:"FuelStation17!"},v.authSvc=a,v.closeModal=s,v.closeFSModal=l,v.onSubmitPassword=u,v.onSubmitFS=d,v.openModal=m,v.openFSLogin=h,v.changePassword=c,v.newUser={username:"fsdemo-student",password:"TempPass17!"},v.authNewUser=function(n){return a.authNewUser(n)},function(){r.fromTemplateUrl("manager/manager-login.html",{scope:o,animation:"slide-in-up",focusFirstInput:!0}).then(function(n){o.modal=n}),o.$on("$destroy",function(){o.modal.remove()})}(),function(){r.fromTemplateUrl("fsLogin/fs-login.modal.html",{scope:o,animation:"slide-in-up",focusFirstInput:!0}).then(function(n){o.fsModal=n}),o.$on("$destroy",function(){o.fsModal.remove()})}()}])}(),function(){angular.module("app.managerCtrl",[]).controller("ManagerCtrl",["ChoiceSvc","IonicAlertSvc",function(n,t){window.setInterval(function(){n.choice().get({id:1})},3e4)}])}(),function(){angular.module("app.orderListCtrl",[]).controller("OrderListCtrl",["AccountSvc","CheckoutSvc","IonicAlertSvc","OrderSvc","$ionicModal","$scope","LoadingSpinner","$timeout","$interval",function(n,t,e,o,i,r,a,c,s){function l(){a.show(),t.unarchived().query().then(h,e.error),c(function(){p()},800),f=s(function(){t.unarchived().query().then(h)},2e4),b()}function u(){k.name={}}function d(n){var o={template:"Are you sure you want to cancel and delete this order?"},i=function(){t.checkout().delete({checkoutID:n.checkoutID}).$promise.then(l).catch(e.error)};e.confirm(o,i)}function m(n){if(!n.isArchived)return k.name.value&&k.name.value.length>0?!n.isArchived&&n.studentSport.fullName.toLowerCase().indexOf(k.name.value.toLowerCase())>-1:!n.isArchived}function h(n){a.hide(),k.todaysCheckouts=n.data.checkouts}function v(e){n.clear(),t.currentCheckout=e,o.orderItems=o.parseChoices(e.CheckoutChoices),n.studentId=e.Athlete.schoolid,r.$broadcast("openModal"),r.modal.show()}function g(n,o){function i(){k.todaysCheckouts.splice(o,1)}var r=t.setArchiveProperties(n);t.checkout().update(r).then(i).then(l).catch(e.error)}function p(){angular.element(document.querySelector("ion-nav-bar")).removeClass("hide")}function b(){i.fromTemplateUrl("manager/orderList/editOrderModal.html",{scope:r,animation:"slide-in-up"}).then(function(n){r.modal=n}),r.$on("$destroy",function(){r.modal.remove()}),r.$on("modal.hidden",function(){t.checkout().query().then(h,e.error)}),r.$on("modal.removed",function(){console.log("modal removed")})}var f,k=this;k.name={},k.todaysCheckouts=[],k.init=l,k.clearFilter=u,k.deleteCheckout=d,k.nameFilter=m,k.openModal=v,k.setArchive=g,l(),r.$on("$destroy",function(){s.cancel(f)})}])}(),function(){angular.module("app.editOrderCtrl",[]).controller("EditOrderCtrl",["AccountSvc","OrderSvc","AthleteSvc","IonicAlertSvc","CheckoutSvc","ChoiceSvc","LoadingSpinner","$scope",function(n,t,e,o,i,r,a,c){function s(){r.ini,n.studentId&&e.getAthlete(n.studentId).then(n.saveAthleteData).then(n.getSnackLimits).then(m).then(h).then(d).catch(l)}function l(n){o.error(n),b.closeModal()}function u(){c.modal.hide()}function d(){return r.getAllChoices().then(r.initializeChoiceCategories).catch(o.error)}function m(n){return i.getCheckoutHistory(n).then(function(n){return n},o.error)}function h(t){return n.initializeHiddenCategories(t,!0)}function v(){function e(){var e=i.fillCheckoutObject(t.orderItems,n.athleteData[0].AthleteID);i.checkout().save(e).then(r).then(b.closeModal).catch(o.error)}function r(){a.hide();var n={title:"This order has been updated."};o.alert(n)}t.orderItems.length>=1&&(a.show(),i.checkout().delete(i.currentCheckout.CheckoutID).then(e).catch(o.error))}function g(e,o){var i=_.clone(e);o&&(n.monthSnacksRemaining--,n.daySnacksRemaining--,i.isSnack=!0),t.addItem(i),n.updateHiddenCategories(t.orderItems)}function p(e){t.orderItems[e].isSnack&&(n.monthSnacksRemaining<n.monthSnacksLimit&&n.monthSnacksRemaining++,n.daySnacksRemaining<n.daySnacksLimit&&n.daySnacksRemaining++),n.updateHiddenCategories(t.orderItems,t.orderItems[e]),t.removeItem(e)}var b=this;b.accountSvc=n,b.choiceSvc=r,b.orderSvc=t,b.orderItems=t.orderItems,b.closeModal=u,b.onOrderClick=v,b.orderItem=g,b.removeItem=p,s(),c.$on("openModal",s)}])}(),function(){angular.module("app.archiveListCtrl",[]).controller("ArchiveListCtrl",["CheckoutSvc","AuthSvc","IonicAlertSvc",function(n,t,e){function o(){function o(n){console.log("ARCHIVED: ("+n.data.count+") checkouts found."),c.todaysCheckouts=n.data.checkouts}t.refreshTokens(),n.archived().query().then(o,e.error)}function i(){c.name={}}function r(n){if(n.isArchived)return c.name.value&&c.name.value.length>0?n.isArchived&&n.studentSport.fullName.toLowerCase().indexOf(c.name.value.toLowerCase())>-1:n.isArchived}function a(t,o){function i(){c.todaysCheckouts.splice(o,1)}var r=n.setUnarchiveProperties(t);n.checkout().update(r).then(i,e.error)}var c=this;c.name={},c.todaysCheckouts=[],c.init=o,c.clearFilter=i,c.nameFilter=r,c.setUnarchive=a,o()}])}(),function(){angular.module("app.snackChoicesCtrl",[]).controller("SnackChoicesCtrl",["$ionicSideMenuDelegate","$ionicPopup","$ionicModal","$scope","ChoiceSvc","IonicAlertSvc","LoadingSpinner",function(n,t,e,o,i,r,a){function c(){function n(n){v.allChoices=n}i.getAllChoices().then(n,r.error),h()}function s(){v.modal.hide()}function l(n){function t(){function t(){a.hide(),v.allChoices.splice(o,1)}a.show(),i.choice().delete({id:n.choiceID},t,r.error)}var e={template:"Are you sure you want to delete "+n.name+" from the list of choices?"},o=v.allChoices.indexOf(n);r.confirm(e,t)}function u(n){v.selectedSnack=_.clone(n),v.openModal()}function d(){v.modal.show(),v.formInvalid=!1}function m(){function n(){a.hide(),c(),v.closeModal(),v.selectedSnack={},v.formInvalid=!1}v.newChoiceForm.$valid?(a.show(),v.selectedSnack.ChoiceID?i.updateChoice(v.selectedSnack).then(n,r.error):(v.selectedSnack.categoryID=6,i.saveChoice(v.selectedSnack).then(n,r.error))):v.formInvalid=!0}function h(){e.fromTemplateUrl("manager/snackChoices/choiceModal.html",{scope:o,animation:"slide-in-up",focusFirstInput:!0}).then(function(n){v.modal=n}),o.$on("$destroy",function(){v.modal.remove()}),o.$on("modal.hidden",function(){v.selectedSnack={}}),o.$on("modal.removed",function(){console.log("modal removed")})}var v=this;v.getType=i.getType,v.predicate="name",v.selectedSnack={},v.typeOptions=i.typeOptions(),v.activeOptions=[{label:"Yes",value:!0},{label:"No",value:!1}],v.closeModal=s,v.deleteChoice=l,v.editChoice=u,v.openModal=d,v.saveChoice=m,c()}])}(),function(){angular.module("app.snackLimitCtrl",[]).controller("SnackLimitCtrl",["SnackLimits","$ionicPopup","IonicAlertSvc","LoadingSpinner",function(n,t,e,o){function i(n){s.sportsLimits=n}function r(t){o.show(),c=t.sport.sportDescription,n.snackLimits().update(t).$promise.then(a,e.error)}function a(){o.hide();var n={title:"Snack limits for "+c+" have been saved."};e.alert(n)}var c,s=this;s.onSubmitSnackLimits=r,s.sportsLimits,function(){n.snackLimits().query().then(i,e.error)}()}])}(),function(){angular.module("app.todaysCheckouts",[]).controller("TodaysCheckoutsCtrl",["CheckoutSvc","IonicAlertSvc","CsvSvc",function(n,t,e){function o(){n.getDailyCheckouts().query().then(i,t.error)}function i(n){a.checkouts=n.data}function r(){e.download(a.checkouts,"daily_report_")}var a=this;a.checkouts=[],a.download=r,a.refresh=o,o()}])}(),function(){angular.module("app.errors",[]).controller("ErrorsCtrl",["$localstorage","ErrorLogSvc","AuthSvc",function(n,t,e){function o(){var t=n.getObject("fsErrors");a.errors=t.data}function i(){t.clear(),o()}function r(n){return moment(n).format("MM-DD-YY, h:mm a")}var a=this;a.errors={},a.deleteLog=i,a.parseDate=r,a.refresh=o,o()}])}(),function(){angular.module("app.monthlyCounts",[]).controller("MonthlyCountsCtrl",["CheckoutSvc","IonicAlertSvc","CsvSvc","$timeout",function(n,t,e,o){function i(){s.getMonthCounts(),o(function(){s.counts.length>0&&e.download(s.counts,s.dateSelection.month+"-"+s.dateSelection.year+"_counts_")},1200)}function r(){n.getMonthCounts(s.dateSelection).query().then(a,t.error)}function a(n){n.length>0?(s.noRecords=!1,s.counts=n):(s.noRecords=!0,s.counts=[])}function c(){for(var n=(new Date).getFullYear(),t=[],e=0;e<3;e++)t.unshift(n-e);return t}var s=this;s.counts=[],s.dateSelection={},s.currentYear=(new Date).getFullYear(),s.currentMonth=(new Date).getMonth()+1,s.download=i,s.getMonthCounts=r,s.years=c,s.months={January:1,February:2,March:3,April:4,May:5,June:6,July:7,August:8,September:9,October:10,November:11,December:12}}])}(),function(){angular.module("app.core",["ngResource"])}(),function(){angular.module("app.core").constant("ApiEndpoint",{url:"http://fuelstationmock.athletics.ucla.edu/api/"})}(),function(){angular.module("app.core").factory("SnackLimits",["$resource","$http","ApiEndpoint",function(n,t,e){function o(){return{get:function(n){return t.get(a+n).then(function(n){return n.data})}}}function i(){return{query:function(){return t.get(a).then(function(n){return n.data})}}}var r={athleteSnackLimits:o,snackLimits:i},a="https://bwtchslm53.execute-api.us-west-2.amazonaws.com/dev/snacklimits/";return r}])}(),function(){angular.module("app.core").service("ChoiceSvc",["$http","$resource","ApiEndpoint",function(n,t,e){function o(n,t){return n.name<t.name?-1:n.name>t.name?1:0}function i(){return{get:function(t){return n.get(p+"/"+t.id).then(function(n){return n.data.choices})},delete:function(t){return n.delete(p+"/"+t.id)}}}function r(){return n.get(p).then(function(n){return n.data.choices})}function a(n){return 0===n?"Snack only":1===n?"Pre":2===n?"Post":3===n?"Hydration":void 0}function c(n){return _.where(n,{type:3})}function s(n){var t=n.sort(g.alphabetize);g.snacks=g.snackOnly(t),g.pre=g.preWorkout(t),g.post=g.postWorkout(t),g.hydration=g.hydrationFilter(t)}function l(n){return _.where(n,{type:2})}function u(n){return _.where(n,{type:1})}function d(t){return n.post(p,t)}function m(n){return _.where(n,{type:0})}function h(){return[{label:"Snack only",value:0},{label:"Pre",value:1},{label:"Post",value:2},{label:"Hydration",value:3}]}function v(t){return n.put(p,t)}var g=this,p="https://mna6x5va5e.execute-api.us-west-2.amazonaws.com/dev/choices";g.alphabetize=o,g.choice=i,g.getAllChoices=r,g.getType=a,g.hydrationFilter=c,g.initializeChoiceCategories=s,g.postWorkout=l,g.preWorkout=u,g.saveChoice=d,g.snackOnly=m,g.typeOptions=h,g.updateChoice=v}])}(),function(){angular.module("app.core").service("AccountSvc",["$q","SnackLimits",function(n,t){function e(){s.shouldHidePre=!1,s.shouldHidePost=!1,s.shouldHideHydration=!1,s.shouldHideSnacks=!1,s.athleteData=null,s.gotPreToday=!1,s.gotPostToday=!1,s.gotHydrationToday=!1,s.clearStudentId(),s.daySnacksRemaining="",s.monthSnacksRemaining=""}function o(){s.studentId=""}function i(e){return t.athleteSnackLimits().get(e[0].schoolid).then(function(t){return s.daySnacksLimit=t.daySnackLimit,s.monthSnacksLimit=t.monthSnackLimit,n.when(e[0].schoolid)})}function r(t,e){if(t){if(t.dayPreCount>0&&(s.shouldHidePre=!0,s.gotPreToday=!0),t.dayPostCount>0&&(s.shouldHidePost=!0,s.gotPostToday=!0),t.dayHydrationCount>0&&(s.shouldHideHydration=!0,s.gotHydrationToday=!0),(t.daySnacksCount>=s.daySnacksLimit||t.monthSnacksCount>=s.monthSnacksLimit)&&(s.shouldHideSnacks=!0,1==s.gotPreToday&&1==s.gotPostToday&&1==s.gotHydrationToday)){var o={title:"Limit Reached",template:"You have already reached your limit.",shouldClearID:!0};if(!e)return s.clear(),n.reject(o)}return s.monthSnacksRemaining=Math.max(s.monthSnacksLimit-t.monthSnacksCount,0)||s.monthSnacksLimit,s.daySnacksRemaining=Math.max(s.daySnacksLimit-t.daySnacksCount,0)||s.daySnacksLimit,s.monthSnacksRemaining<s.daySnacksLimit&&(s.daySnacksRemaining=Math.min(s.monthSnacksRemaining,s.daySnacksRemaining)),n.when(!0)}}function a(t){if(t.length>0){if(s.athleteData=t,"MFB"===t[0].sportCode.toUpperCase()){var e={title:"Sorry, you are currently not eligible to check out items.",shouldClearID:!0,stack:(new Error).stack,cause:"Sport not eligible to receive snacks"};return n.reject(e)}return n.when(t)}if(0===t.length){var e={title:"The student ID you entered was not found. Please try again.",shouldClearID:!0,stack:(new Error).stack,cause:"Student ID not found"};return n.reject(e)}}function c(n,t){for(var e=0,o=0,i=0,r=0,a=0;a<n.length;a++)1===n[a].type?(e++,s.shouldHidePre=!0):2===n[a].type?(o++,s.shouldHidePost=!0):3===n[a].type?(i++,s.shouldHideHydration=!0):1==n[a].isSnack&&r++;s.monthSnacksRemaining<=0||s.daySnacksRemaining<=0?s.shouldHideSnacks=!0:s.shouldHideSnacks=!1,(0===e&&!s.gotPreToday||t&&1===t.type&&!t.isSnack)&&(s.shouldHidePre=!1),(0===o&&!s.gotPostToday||t&&2===t.type&&!t.isSnack)&&(s.shouldHidePost=!1),(0===i&&!s.gotHydrationToday||t&&3===t.type&&!t.isSnack)&&(s.shouldHideHydration=!1)}var s=this;s.daySnacksLimit=0,s.monthSnacksLimit=0,s.studentId="",s.gotPreToday=!1,s.gotPostToday=!1,s.gotHydrationToday=!1,s.shouldHidePre=!1,s.shouldHidePost=!1,s.shouldHideHydration=!1,s.shouldHideSnacks=!1,s.daySnacksRemaining="",s.monthSnacksRemaining="",s.clear=e,s.clearStudentId=o,s.getSnackLimits=i,s.initializeHiddenCategories=r,s.saveAthleteData=a,s.updateHiddenCategories=c}])}(),function(){angular.module("app.core").service("AuthSvc",["$q",function(n){function t(t){var e={Username:t.username,Password:t.password},o=new AWSCognito.CognitoIdentityServiceProvider.AuthenticationDetails(e),i=new AWSCognito.CognitoIdentityServiceProvider.CognitoUserPool(l.poolData),r={Username:t.username,Pool:i},a=new AWSCognito.CognitoIdentityServiceProvider.CognitoUser(r);return n(function(n,t){a.authenticateUser(o,{onSuccess:function(t){console.log("refreshToken + "+t.getRefreshToken().token),console.log("accessToken + "+new Date(1e3*t.getAccessToken().getExpiration())),console.log("idToken + "+new Date(1e3*t.getIdToken().getExpiration())),l.token=t.idToken.jwtToken,AWSCognito.config.credentials=new AWSCognito.CognitoIdentityCredentials({IdentityPoolId:"us-west-2:28695927-b308-4073-acd6-fedc4e1cd40b",Logins:{"cognito-idp.us-west-2.amazonaws.com/us-west-2_KMI3gTfQw":t.getIdToken().getJwtToken()}}),n(t.idToken.jwtToken)},onFailure:function(n){console.error(n),t(n)}})})}function e(t,e){var o=new AWSCognito.CognitoIdentityServiceProvider.CognitoUserPool(l.poolData),i=o.getCurrentUser();return n(function(n,o){i.getSession(function(r,a){r&&(console.error("Error encountered during getSession.",r),o(r)),i.changePassword(t,e,function(t,e){if(t)return void o(t);console.log("call result: "+e),n(e)})})})}function o(){return null!=new AWSCognito.CognitoIdentityServiceProvider.CognitoUserPool(l.poolData).getCurrentUser()}function i(){return new AWSCognito.CognitoIdentityServiceProvider.CognitoUserPool(l.poolData).getCurrentUser().signOut()}function r(){return n(function(n,t){if(!l.token)return c().then(function(t){l.token=t,n(t)}).catch(function(n){t(n)});l.tokenExpiration>new Date?n(l.token):(console.info("EXPIRED - refresh tokens w/ AWS and the refreshToken..."),a(),n(null))})}function a(){AWSCognito.config.credentials.refresh(function(n){n?console.error(n):(console.log("Successfully logged!"),c())})}function c(){var t=new AWSCognito.CognitoIdentityServiceProvider.CognitoUserPool(l.poolData),e=t.getCurrentUser();return n(function(n,t){if(null==e)return n(null);e.getSession(function(e,o){e&&(console.error("Error encountered during getSession.",e),t(e)),l.token=o.getIdToken().jwtToken,l.tokenExpiration=new Date(1e3*o.getIdToken().getExpiration()),console.info("Token Remain (min): ",(l.tokenExpiration-new Date)/6e4),AWSCognito.config.credentials=new AWSCognito.CognitoIdentityCredentials({IdentityPoolId:"us-west-2:28695927-b308-4073-acd6-fedc4e1cd40b",Logins:{"cognito-idp.us-west-2.amazonaws.com/us-west-2_KMI3gTfQw":o.getIdToken().getJwtToken()}}),n(o.getIdToken().jwtToken)})})}function s(t){var e={Username:t.username,Password:t.password},o=new AWSCognito.CognitoIdentityServiceProvider.AuthenticationDetails(e),i=new AWSCognito.CognitoIdentityServiceProvider.CognitoUserPool(l.poolData),r={Username:t.username,Pool:i},a=new AWSCognito.CognitoIdentityServiceProvider.CognitoUser(r);return n(function(n,t){null!=a?a.authenticateUser(o,{onSuccess:function(t){console.log("User Auth for new user was successful!"),n(t)},onFailure:function(n){console.error("User Auth Problem: ",n),t(n)},mfaRequired:function(n){console.log("User Auth requires an MFA code..."),a.sendMFACode(mfaCode,this)},newPasswordRequired:function(n,t){delete n.email_verified;n.family_name="Leininger",n.given_name="Jeff",a.completeNewPasswordChallenge("FuelStation17!",n,this)}}):t("no user found for authentication...")})}var l=this;l.isAuthenticated=o,l.login=t,l.logout=i,l.getUser=c,l.getToken=r,l.refreshTokens=a,l.changePassword=e,l.authNewUser=s,l.token=null,l.poolData={UserPoolId:"us-west-2_KMI3gTfQw",ClientId:"49f7iepq786236nea8t33m1kje"},AWSCognito.config.update({region:"us-west-2"})}])}(),function(){angular.module("app.core").service("OrderSvc",["AccountSvc","CheckoutSvc","IonicAlertSvc",function(n,t,e){function o(n){c.orderItems.push(n)}function i(){c.orderItems=[]}function r(n){for(var t=[],e=0;e<n.length;e++){var o={};o=n[e].Choice,n[e].isSnack&&(o.isSnack=!0),t.push(o)}return t}function a(n){c.orderItems.splice(n,1)}var c=this;c.orderItems=[],c.addItem=o,c.clear=i,c.parseChoices=r,c.removeItem=a}])}(),function(){angular.module("app.core").factory("AthleteSvc",["$http","$resource","$cacheFactory","ApiEndpoint",function(n,t,e,o){function i(){}function r(t){return n.get("https://9cyvf89py9.execute-api.us-west-2.amazonaws.com/dev/athletes/"+t).then(function(n){return n.data.athletes})}return{getAthlete:r,athleteApi:i}}])}(),function(){angular.module("app.core").factory("CheckoutSvc",["$http","$resource","ApiEndpoint","IonicAlertSvc","LoadingSpinner",function(n,t,e,o,i){function r(){return{query:function(){return n.get("https://f5ekrwo1b6.execute-api.us-west-2.amazonaws.com/dev/checkouts/Archived")}}}function a(){return{save:function(t){return n.post("https://f5ekrwo1b6.execute-api.us-west-2.amazonaws.com/dev/checkouts",t)},update:function(t){return n.put("https://f5ekrwo1b6.execute-api.us-west-2.amazonaws.com/dev/checkouts",t)},delete:function(t){return n.delete("https://f5ekrwo1b6.execute-api.us-west-2.amazonaws.com/dev/checkouts/"+t)},get:function(t){return n.get("https://f5ekrwo1b6.execute-api.us-west-2.amazonaws.com/dev/checkouts/"+t)},query:function(){return n.get("https://f5ekrwo1b6.execute-api.us-west-2.amazonaws.com/dev/checkouts?filter=93262,93263,93265,93266")}}}function c(t){return n.get("https://f5ekrwo1b6.execute-api.us-west-2.amazonaws.com/dev/report/checkouts/history/"+t).then(function(n){return n.data})}function s(){return{query:function(){return n.get("https://f5ekrwo1b6.execute-api.us-west-2.amazonaws.com/dev/report/checkouts/daily")}}}function l(t){return{query:function(){return n.get("https://f5ekrwo1b6.execute-api.us-west-2.amazonaws.com/dev/report/checkouts/monthly").then(function(n){return n.data})}}}function u(n,t){var e={};return e.CreateDate=moment().format(),e.StudentSportID=t,e.CheckoutChoices=n,e}function d(n,t){function e(){i.hide();var n={title:"Thank you for placing your order",redirect:"tab.studentID"};o.alert(n)}i.show();var r=g.fillCheckoutObject(n,t);return g.checkout().save(r).then(e).catch(o.error)}function m(n){var t=n;return t.isArchived=!0,t.archiveDate=moment().format(),t.studentSport=null,t}function h(n){var t=n;return t.isArchived=!1,t.archiveDate=null,t.studentSport=null,t}function v(){return{query:function(){return n.get("https://f5ekrwo1b6.execute-api.us-west-2.amazonaws.com/dev/checkouts/Unarchived")}}}var g={archived:r,checkout:a,currentCheckout:{},getCheckoutHistory:c,getDailyCheckouts:s,getMonthCounts:l,fillCheckoutObject:u,processCheckout:d,setArchiveProperties:m,setUnarchiveProperties:h,unarchived:v};return g}])}(),function(){function n(n,t,e,o,i,r){function a(t){i.hide();var r={},a="There was an error. Please try again.";t?t.title?r=t:t.data?r.title=t.data.message:r.title=a:r.title=a,n.alert(r).then(function(){1==r.shouldClearID&&o.clearStudentId(),r.redirect&&e.go(r.redirect,null,{reload:!0})})}function c(t,e){var o={};t&&t.title?o.title=t.title:o.title="Confirm",t&&t.template&&(o.template=t.template),n.confirm(o).then(function(n){i.hide(),n&&e()})}function s(n){var t={exception:n};return r.log(t),l.alert(n)}var l={alert:a,confirm:c,error:s};return l}
n.$inject=["$ionicPopup","$q","$state","AccountSvc","LoadingSpinner","ErrorLogSvc"],angular.module("app.core").factory("IonicAlertSvc",n)}(),function(){angular.module("app.core").factory("LoadingSpinner",["$ionicLoading",function(n){function t(){n.show({template:"<ion-spinner></ion-spinner>",delay:400,duration:2e4})}function e(){n.hide()}return{show:t,hide:e}}])}(),function(){angular.module("app.core").factory("CsvSvc",function(){function n(n,t){var o=moment().format("MM-DD-YY"),i=e.JSON2CSV(n),r="data:text/csv;charset=utf-8,"+encodeURI(i),a=document.createElement("a");a.setAttribute("href",r),a.setAttribute("download",t+o+".csv"),a.click()}function t(n){for(var t="object"!=(void 0===n?"undefined":_typeof(n))?JSON.parse(n):n,e="",o="",i=0;i<t.length;i++){var o="";for(var r in t[i])"$"!=r.charAt(0)&&-1===r.indexOf("toJSON")&&(o+=t[i][r]+",");o=o.slice(0,-1),e+=o+"\r\n"}return e}var e={download:n,JSON2CSV:t};return e})}();